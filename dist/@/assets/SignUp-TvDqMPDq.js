import{k as w,b,j as r,i as j,L}from"./index-CjXOYCek.js";import{I as n,E as i}from"./InputArea-Cnww-Nhg.js";import{u as y}from"./useLoginSubmit-BG03W9un.js";import{L as A}from"./Loader-DOHrzpj0.js";import"./index.esm-DMDpr_Fp.js";import"./EmployeeServices-gydm101I.js";const O="/@/assets/create-account-office-Dk7xGghJ.jpeg",S="/@/assets/create-account-office-Dk7xGghJ.jpeg",s={NAME:{min:3,max:40},EMPLOYEE_CODE:{min:3,max:10},MOBILE:{exact:10},EMAIL:{max:50},PASSWORD:{min:8,max:16}},I=()=>{const{t:c}=w(),{onSubmit:x,register:m,handleSubmit:p,errors:l,loading:d}=y();b.useEffect(()=>{m("role",{value:"Employee"})},[m]);const u=e=>{let a={},t=!0;const f=["name","employeeCode","mobile","email","password","confirm_password"];for(const o of f)(!e[o]||e[o].trim===void 0||e[o].trim()==="")&&(a[o]=`${o.charAt(0).toUpperCase()+o.slice(1).replace(/([A-Z])/g," $1")} is required`,t=!1);e.name&&(e.name.length<s.NAME.min||e.name.length>s.NAME.max)&&(a.name=`Full name must be between ${s.NAME.min} and ${s.NAME.max} characters`,t=!1),e.employeeCode&&(e.employeeCode.length<s.EMPLOYEE_CODE.min||e.employeeCode.length>s.EMPLOYEE_CODE.max)&&(a.employeeCode=`Employee code must be between ${s.EMPLOYEE_CODE.min} and ${s.EMPLOYEE_CODE.max} characters`,t=!1),e.mobile&&e.mobile.toString().length!==s.MOBILE.exact&&(a.mobile=`Mobile number must be exactly ${s.MOBILE.exact} digits`,t=!1);const h=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.email&&(h.test(e.email)?e.email.length>s.EMAIL.max&&(a.email=`Email cannot exceed ${s.EMAIL.max} characters`,t=!1):(a.email="Please enter a valid email address",t=!1));const E=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*?&]{8,16}$/;if(e.password&&(e.password.length<s.PASSWORD.min?(a.password=`Password must be at least ${s.PASSWORD.min} characters long`,t=!1):e.password.length>s.PASSWORD.max?(a.password=`Password cannot exceed ${s.PASSWORD.max} characters`,t=!1):E.test(e.password)||(a.password="Password must include at least one letter and one number",t=!1)),e.password&&e.confirm_password&&e.password!==e.confirm_password&&(a.confirm_password="Passwords do not match",t=!1),!t){for(const[o,g]of Object.entries(a))l[o]={message:g};return}e.employeeCode&&(e.employeeCode=e.employeeCode.toUpperCase()),x(e)};return r.jsx("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:r.jsxs("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[r.jsxs("div",{className:"h-32 md:h-auto md:w-1/3",children:[r.jsx("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:O,alt:"Office"}),r.jsx("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:S,alt:"Office"})]}),r.jsx("main",{className:"flex items-center justify-center p-6 md:w-2/3",children:r.jsxs("div",{className:"w-full",children:[r.jsx("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200",children:c("CreateAccount")}),r.jsxs("form",{onSubmit:p(u),children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(n,{register:m,name:"name",type:"text",placeholder:"Enter your full name",required:!0,minLength:s.NAME.min,maxLength:s.NAME.max}),r.jsx(i,{errorName:l.name}),r.jsx(n,{register:m,name:"employeeCode",type:"text",placeholder:"Enter employee code",required:!0,minLength:s.EMPLOYEE_CODE.min,maxLength:s.EMPLOYEE_CODE.max,onChange:e=>{e.target.value=e.target.value.toUpperCase()}}),r.jsx(i,{errorName:l.employeeCode}),r.jsx(n,{register:m,name:"mobile",type:"text",placeholder:"Enter mobile number",required:!0,maxLength:s.MOBILE.exact,pattern:"[0-9]{10}",onInput:e=>{e.target.value=e.target.value.replace(/[^0-9]/g,""),e.target.value.length>s.MOBILE.exact&&(e.target.value=e.target.value.slice(0,s.MOBILE.exact))}}),r.jsx(i,{errorName:l.mobile}),r.jsx(n,{register:m,name:"email",type:"email",placeholder:"Enter your email",required:!0,maxLength:s.EMAIL.max}),r.jsx(i,{errorName:l.email}),r.jsx(n,{register:m,name:"password",type:"password",placeholder:"Enter password",autoComplete:"new-password",required:!0,minLength:s.PASSWORD.min,maxLength:s.PASSWORD.max}),r.jsx(i,{errorName:l.password}),r.jsx(n,{register:m,name:"confirm_password",type:"password",placeholder:"Confirm password",autoComplete:"new-password",required:!0,minLength:s.PASSWORD.min,maxLength:s.PASSWORD.max,validation:{validate:e=>{const a=document.querySelector('input[name="password"]');return a&&e===a.value||"Passwords do not match"}}}),r.jsx(i,{errorName:l.confirm_password})]}),d?r.jsx(A,{size:"50"}):r.jsx(j.Button,{type:"submit",className:"mt-6 w-full",disabled:d,children:"Create Account"})]}),r.jsx("p",{className:"mt-4 text-center",children:r.jsx(L,{className:"text-sm font-medium text-emerald-500 dark:text-emerald-400 hover:underline",to:"/login",children:c("AlreadyAccount")})})]})})]})})})};export{I as default};
